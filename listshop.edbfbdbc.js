function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},a=n.parcelRequire7599;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},n.parcelRequire7599=a),a.register("kyEFX",(function(t,n){var o,s;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},s=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("jJ57b",(function(e,t){const n=new(0,a("3bbpN").DataFirebase),o={shopListContainer:document.querySelector(".container__shopping-list"),imgEmptyPage:document.querySelector(".imgEmptyPage"),textEmptyPage:document.querySelector(".textEmptyPage"),container:document.querySelector(".shop-list__container"),cards:document.querySelector(".shop-list__cards")},s=JSON.parse(localStorage.getItem("shopingList"));let i=[];if(!s)return;{const e=Object.keys(s);i=e.map((e=>s[e]))}i.length>=1&&(o.imgEmptyPage.remove(".imgEmptyPage"),o.textEmptyPage.remove(".textEmptyPage"),function(e){const t=e.map((({id:e,bookImg:t,author:n,title:o,description:s,listName:a})=>` \n      <li class="shop-list__one-card" data-id=${e}>\n        <img class="shop-list__img" src=${t} alt="${o}" />\n        <div class="shop-list__text-container">\n        <h2 class="shop-list__title-book">${o}</h2>\n        <h3 class="shop-list__category-name">${a}</h3>\n        <p class="shop-list__descr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum blanditiis quo similique placeat aut a.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum blanditiis quo similique placeat aut a.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum blanditiis quo similique placeat aut a.</p>\n        <h3 class="shop-list__author">${n}</h3>\n        </div>\n        <ul>\n          <li><a href=""></a></li>\n          <li><a href=""></a></li>\n          <li><a href=""></a></li>\n        </ul>\n       \n      <div>\n    <button class="btn-trash-box" type="button" data-name="btn-trash" data-id=${e}>\n      <span class="btn-icn-wrap">\n        <svg width="18" height="18">\n          <use href="/icons.adfc4680.svg#trash"></use>\n        </svg>\n      </span>\n    </button>\n   \n  </div>\n  </li>\n    `)).join("");o.cards.insertAdjacentHTML("beforeend",t)}(i));document.querySelector(".shop-list__cards").addEventListener("click",(async function(e){if(e.target.closest("button").tagName){const t=e.target.closest("button").dataset.id;await n.deleteBook(t),window.location.reload()}const t=e.target.closest("li").dataset.id;await n.deleteBook(t),window.location.reload()}))})),a("kyEFX").register(JSON.parse('{"f4hvY":"listshop.edbfbdbc.js","8OQ7p":"icons.4c16bf73.svg","5UbS1":"index.98615e93.css","xwhNR":"index.5390629f.js"}')),a("195At"),a("jJ57b");var i,r=a("3bbpN"),l=a("eyjy7");i=new URL(a("kyEFX").resolve("8OQ7p"),import.meta.url).toString();document.querySelector(".button-sing-auth-js").addEventListener("click",p);const c=new(0,r.DataFirebase);async function u(){await c.authGoogle(),m.innerHTML="",document.body.classList.remove("scroll-off"),w(),window.location.reload()}const d=c.auth,m=document.querySelector(".modalWindow");function p(){if(localStorage.getItem("tokenResponse"))return localStorage.removeItem("tokenResponse"),localStorage.removeItem("userAvatar"),localStorage.removeItem("email"),localStorage.removeItem("shopingList"),w(),void window.location.reload();m.innerHTML='\n    <div class="modal-bakc">\n    <form class="modal-form-auth"">\n    <div class=\'clousModalAuth\'>&times;</div>\n    <input\n      type="email"\n      name="email"\n      placeholder="email"\n    />\n    <input\n      type="password"\n      name="password"\n      placeholder="password"\n    />\n    <button type="submit">Sign in</button>\n    <div class=\'button-sing-group\'>\n    <p class="button-sign-up">Sing up</p>\n    <p class=\'button-sing\'>Sing in</p>\n    <p class=\'button-google\'>google</p>\n    </div>\n  </form>\n  </div>';const e=m.querySelector(".modal-form-auth"),t=e.querySelector(".button-sign-up"),n=e.querySelector(".button-google"),o=e.querySelector(".clousModalAuth");t.addEventListener("click",f),n.addEventListener("click",u),e.addEventListener("submit",g),o.addEventListener("click",h),m.classList.add("trans-modal"),document.body.classList.add("scroll-off")}async function g(e){e.preventDefault();const t=e.currentTarget.elements.email.value,n=e.currentTarget.elements.password.value;try{const e=await(0,l.signInWithEmailAndPassword)(d,t,n);localStorage.setItem("tokenResponse",e._tokenResponse.idToken),localStorage.setItem("email",t),m.innerHTML="",document.body.classList.remove("scroll-off");const o=await c.getRequest(t);if(o){const e=JSON.stringify(o);localStorage.setItem("shopingList",e)}else localStorage.setItem("shopingList",JSON.stringify({}))}catch(e){console.error("fire.data-error",e),alert(e.message)}w(),window.location.reload()}function f(){m.innerHTML='\n    <div class="modal-bakc">\n    <form class="modal-form-auth">\n    <div class=\'clousModalAuth\'>&times;</div>\n    <input\n      type="email"\n      name="email"\n      placeholder="email"\n    />\n    <input\n      type="password"\n      name="password"\n      placeholder="password"\n    />\n    <input\n      type="password"\n      name="passwordConfirmation"\n      placeholder="password"\n    />\n    <button type="submit">sign up</button>\n    <div class=\'button-sing-group\'>\n    <p class=\'button-sing\'>Sing up</p>\n    <p class="button-sign-in">Sing in</p>\n    <p class=\'button-google\'>google</p>\n    </div>\n  </form>\n  </div>';const e=m.querySelector(".modal-form-auth"),t=e.querySelector(".button-sign-in"),n=e.querySelector(".button-google"),o=e.querySelector(".clousModalAuth");m.classList.add("trans-modal"),t.addEventListener("click",p),e.addEventListener("submit",b),n.addEventListener("click",u),o.addEventListener("click",h),document.body.classList.add("scroll-off")}function h(){m.classList.remove("trans-modal"),m.innerHTML="",document.body.classList.remove("scroll-off")}async function b(e){e.preventDefault();const t=e.currentTarget.elements.email.value,n=e.currentTarget.elements.password.value,o=e.currentTarget.elements.passwordConfirmation.value;if(n&&n===o){console.log(t,n),m.innerHTML="",document.body.classList.remove("scroll-off");try{const e=await(0,l.createUserWithEmailAndPassword)(d,t,n);localStorage.setItem("tokenResponse",e._tokenResponse.idToken),localStorage.setItem("email",t),localStorage.setItem("shopingList",JSON.stringify({}))}catch(e){console.error(e.message),alert(e.message)}}else alert("Check the password");w(),window.location.reload()}const v=document.querySelector(".header-button-nav"),y=document.querySelector(".button-sing-auth-js");function w(){let e="";if(localStorage.getItem("tokenResponse")){const n=localStorage.getItem("userAvatar")?localStorage.getItem("userAvatar"):"https://bootstraptema.ru/snippets/icons/2016/mia/1.png",o=localStorage.getItem("email");e=`<div class='user-auth-zone'>\n        <img\n          src="${n}"\n          alt="user avatar"\n          loading="lazy"\n          class="user-img-auth"\n        />\n      <span class='nik-name'>${o.substring(0,o.indexOf("@"))}</span>\n        <div class='svg-user-auth'>\n        <svg width="23" height="26" fill="#ffffff">\n          <use href="${t(i)}#caret-down"></use>\n        </svg>\n        </div>\n    </div>`,v.classList.remove("header-not-uyth")}else e=`<div class="button-sing-auth-js">\n      <button class="btn-log-out" type="button">\n        Log in<span class="btn-icn-wrap">\n          <svg width="20" height="20">\n            <use href="${t(i)}#arrow-right"></use>\n          </svg>\n        </span>\n      </button>\n    </div>`,v.classList.add("header-not-uyth");y.innerHTML=e}w(),a("2wbaf");
//# sourceMappingURL=listshop.edbfbdbc.js.map
