!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},r=n.parcelRequire7599;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},n.parcelRequire7599=r),r.register("iE7OH",(function(t,n){var o,s;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var r={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},s=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("4WFAO",(function(e,n){var o=r("bpxeT"),s=r("2TvXO"),a=r("ebxd4"),i=r("b5syF"),c=r("h57dF"),l=r("5wVNx"),u=r("bJ73h"),d=r("kk1WF"),p=r("OpDOt"),g=new(0,r("kzJAm").DataFirebase),m={shopListContainer:document.querySelector(".shop-list__container"),container:document.querySelector(".shop-list__empty-page"),cards:document.querySelector(".shop-list__cards")},f=JSON.parse(localStorage.getItem("shopingList")),h=[];if(f){var v=Object.keys(f);h=v.map((function(e){return f[e]})),function(){h||(m.cards.classList.add("visually-hidden"),m.container.innerHTML='\n  <div class="shop-list__empty-page">\n  <p class="textEmptyPage">\n    This page is empty, add some books and proceed to order.\n  </p>\n  <img class="imgEmptyPage" src="./images/is-empty@2x.png" alt="" />\n</div>');h.length>=1&&(m.container.remove(".shop-list__empty-page"),function(e){m.cards.classList.remove("visually-hidden");var n=e.map((function(e){var n=e.id,o=e.bookImg,s=e.author,r=e.title,g=e.description,m=e.listName,f=e.buyLinks,h="",v="",b="";return f.forEach((function(e){"Amazon"===e.name&&(h=e.url),"Apple Books"===e.name&&(v=e.url),"Bookshop"===e.name&&(b=e.url)})),' \n      <li class="shop-list__one-card" data-id='.concat(n,'>\n        <img class="shop-list__img" src="').concat(o||"./src/images/stopper335@1x.png",'" alt="').concat(r||"No title",'" />\n        <div class="shop-list__text-container">\n          <h3 class="shop-list__title-book">').concat(r||"No title",' </h3>\n          <h4 class="shop-list__category-name">').concat(m||"No category",'</h4>\n          <p class="shop-list__descr ">').concat(g||"No description",'</p>\n          <h4 class="shop-list__author">').concat(s||"No author","</h4>\n        </div>\n        <ul class='shop-list__links-group'>\n        <li class='shop-list__links'><a href=").concat(h,' target="_blank"> <img  src=\'').concat(t(i),"' srcset=\"").concat(t(i)," 1x, ").concat(t(c),' 2x" rel="noopener noreferrer nofollow" aria-label="Amazon link"></a></li>\n        <li class=\'shop-list__links\'><a href=').concat(v,' target="_blank"> <img  src=\'').concat(t(l),"' srcset=\"").concat(t(l)," 1x, ").concat(t(u),' 2x" rel="noopener noreferrer nofollow" aria-label="Apple Books link"\'></a></li>\n        <li class=\'shop-list__links\'><a href=').concat(b,' target="_blank"> <img  src=\'').concat(t(d),"' srcset=\"").concat(t(d)," 1x, ").concat(t(p),' 2x" rel="noopener noreferrer nofollow" aria-label="Amazon link"></a></li>\n        </ul> \n      <div>\n    <button class="btn-trash-box" type="button" data-name="btn-trash" data-id=').concat(n,'>\n      <span class="btn-icn-wrap">\n        <svg width="18" height="18">\n          <use href="').concat(t(a),'#trash"></use>\n        </svg>\n      </span>\n    </button>\n  </div>\n  </li>\n    ')}));m.cards.innerHTML=n.join("")}(h))}(),m.shopListContainer.addEventListener("click",(function(e){if("use"!==e.target.nodeName)return;var t=e.target.closest(".shop-list__one-card").dataset.id;Object.keys(f).forEach((function(e){f[e].id===t&&delete f[e]})),localStorage.setItem("shopingList",JSON.stringify(f)),e.target.closest(".shop-list__one-card").remove(),m.cards.children.length||(m.cards.classList.add("visually-hidden"),m.container.innerHTML='\n    <div class="shop-list__empty-page">\n    <p class="textEmptyPage">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img class="imgEmptyPage" src="./images/is-empty@2x.png" alt="" />\n  </div>')})),document.querySelector(".shop-list__cards").addEventListener("click",(function(e){return b.apply(this,arguments)}))}function b(){return(b=t(o)(t(s).mark((function e(n){var o,r;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.closest("button")){e.next=5;break}return o=n.target.closest("button").dataset.id,e.next=4,g.deleteBook(o);case 4:window.location.reload();case 5:return r=n.target.closest("li").dataset.id,e.next=8,g.deleteBook(r);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),r.register("ebxd4",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("410VS")})),r.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var s={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=s[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),s[e]=t),t}})),r.register("b5syF",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("eO8bt")})),r.register("h57dF",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("iYw0R")})),r.register("5wVNx",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("4IcDd")})),r.register("bJ73h",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("7KcSF")})),r.register("kk1WF",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("4VQah")})),r.register("OpDOt",(function(e,t){e.exports=r("aNJCr").getBundleURL("e9iQb")+r("iE7OH").resolve("gi1HH")})),r("iE7OH").register(JSON.parse('{"e9iQb":"listshop.2e3b4954.js","410VS":"icons.4c16bf73.svg","eO8bt":"amazon@1x.079940f4.png","iYw0R":"amazon@2x.9519639f.png","4IcDd":"book@1x.4bca86b0.png","7KcSF":"book@2x.f258df53.png","4VQah":"books@1x.d21f8dfc.png","gi1HH":"books@2x.2abcb86b.png","5UbS1":"index.b8048aef.css","c2CaB":"index.36c65d2f.js"}')),r("aYBHI"),r("4WFAO");var a=r("bpxeT"),i=r("2TvXO"),c=r("kzJAm"),l=r("gQOBw"),u=r("ebxd4");document.querySelector(".button-sing-auth-js").addEventListener("click",h);var d=new(0,c.DataFirebase);function p(){return g.apply(this,arguments)}function g(){return(g=t(a)(t(i).mark((function e(){return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.authGoogle();case 2:f.innerHTML="",document.body.classList.remove("scroll-off"),x(),window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=d.auth,f=document.querySelector(".modalWindow");function h(){if(localStorage.getItem("tokenResponse"))return localStorage.removeItem("tokenResponse"),localStorage.removeItem("userAvatar"),localStorage.removeItem("email"),localStorage.removeItem("shopingList"),x(),void window.location.reload();f.innerHTML='\n    <div class="modal-bakc">\n    <form class="modal-form-auth"">\n    <div class=\'clousModalAuth\'>&times;</div>\n    <input\n      type="email"\n      name="email"\n      placeholder="email"\n    />\n    <input\n      type="password"\n      name="password"\n      placeholder="password"\n    />\n    <button type="submit">Sign in</button>\n    <div class=\'button-sing-group\'>\n    <p class="button-sign-up">Sign up</p>\n    <p class=\'button-sing\'>Sign in</p>\n    <p class=\'button-google\'>google</p>\n    </div>\n  </form>\n  </div>';var e=f.querySelector(".modal-form-auth"),t=e.querySelector(".button-sign-up"),n=e.querySelector(".button-google"),o=e.querySelector(".clousModalAuth");t.addEventListener("click",y),n.addEventListener("click",p),e.addEventListener("submit",v),o.addEventListener("click",k),f.classList.add("trans-modal"),document.body.classList.add("scroll-off")}function v(e){return b.apply(this,arguments)}function b(){return(b=t(a)(t(i).mark((function e(n){var o,s,r,a,c;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o=n.currentTarget.elements.email.value,s=n.currentTarget.elements.password.value,e.prev=3,e.next=6,(0,l.signInWithEmailAndPassword)(m,o,s);case 6:return r=e.sent,localStorage.setItem("tokenResponse",r._tokenResponse.idToken),localStorage.setItem("email",o),f.innerHTML="",document.body.classList.remove("scroll-off"),e.next=13,d.getRequest(o);case 13:(a=e.sent)?(c=JSON.stringify(a),localStorage.setItem("shopingList",c)):localStorage.setItem("shopingList",JSON.stringify({})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("fire.data-error",e.t0),alert(e.t0.message);case 21:x(),window.location.reload();case 23:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function y(){f.innerHTML='\n    <div class="modal-bakc">\n    <form class="modal-form-auth">\n    <div class=\'clousModalAuth\'>&times;</div>\n    <input\n      type="email"\n      name="email"\n      placeholder="email"\n    />\n    <input\n      type="password"\n      name="password"\n      placeholder="password"\n    />\n    <input\n      type="password"\n      name="passwordConfirmation"\n      placeholder="password"\n    />\n    <button type="submit">sign up</button>\n    <div class=\'button-sing-group\'>\n    <p class=\'button-sing\'>Sign up</p>\n    <p class="button-sign-in">Sign in</p>\n    <p class=\'button-google\'>google</p>\n    </div>\n  </form>\n  </div>';var e=f.querySelector(".modal-form-auth"),t=e.querySelector(".button-sign-in"),n=e.querySelector(".button-google"),o=e.querySelector(".clousModalAuth");f.classList.add("trans-modal"),t.addEventListener("click",h),e.addEventListener("submit",_),n.addEventListener("click",p),o.addEventListener("click",k),document.body.classList.add("scroll-off")}function k(){f.classList.remove("trans-modal"),f.innerHTML="",document.body.classList.remove("scroll-off")}function _(e){return L.apply(this,arguments)}function L(){return(L=t(a)(t(i).mark((function e(n){var o,s,r,a;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o=n.currentTarget.elements.email.value,s=n.currentTarget.elements.password.value,r=n.currentTarget.elements.passwordConfirmation.value,!s||s!==r){e.next=23;break}return console.log(o,s),f.innerHTML="",document.body.classList.remove("scroll-off"),e.prev=8,e.next=11,(0,l.createUserWithEmailAndPassword)(m,o,s);case 11:a=e.sent,localStorage.setItem("tokenResponse",a._tokenResponse.idToken),localStorage.setItem("email",o),localStorage.setItem("shopingList",JSON.stringify({})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),console.error(e.t0.message),alert(e.t0.message);case 21:e.next=24;break;case 23:alert("Check the password");case 24:x(),window.location.reload();case 26:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}var S=document.querySelector(".header-button-nav"),w=document.querySelector(".button-sing-auth-js");function x(){var e="";if(localStorage.getItem("tokenResponse")){var n=localStorage.getItem("userAvatar")?localStorage.getItem("userAvatar"):"https://bootstraptema.ru/snippets/icons/2016/mia/1.png",o=localStorage.getItem("email"),s=o.substring(0,o.indexOf("@"));e="<div class='user-auth-zone'>\n        <img\n          src=\"".concat(n,'"\n          alt="user avatar"\n          loading="lazy"\n          class="user-img-auth"\n        />\n      <span class=\'nik-name\'>').concat(s,'</span>\n        <div class=\'svg-user-auth\'>\n        <svg width="23" height="26" fill="#ffffff">\n          <use href="').concat(t(u),'#caret-down"></use>\n        </svg>\n        </div>\n    </div>'),S.classList.remove("header-not-uyth")}else e='<div class="button-sing-auth-js">\n      <button class="btn-log-out" type="button">\n        Log in<span class="btn-icn-wrap">\n          <svg width="20" height="20">\n            <use href="'.concat(t(u),'#arrow-right"></use>\n          </svg>\n        </span>\n      </button>\n    </div>'),S.classList.add("header-not-uyth");w.innerHTML=e}x();var H=document.querySelector(".burger-button-auth"),E=document.querySelector(".burger-button-span"),O=document.querySelector(".modal-burger-menu"),R=document.querySelector(".burger-menu-header");function A(){console.log(localStorage.getItem("tokenResponse")),localStorage.getItem("tokenResponse")?E.innerHTML="Log aut":E.innerHTML="Log in"}R.addEventListener("click",(function(){O.classList.toggle("modal-burger-menu-off"),R.classList.toggle("active"),document.body.classList.toggle("scroll-off")})),console.log(H),H.addEventListener("click",(function(e){R.classList.toggle("active"),O.classList.toggle("modal-burger-menu-off"),document.body.classList.toggle("scroll-off"),A(),h()})),A(),A(),r("gGcLX"),r("5zKjL")}();
//# sourceMappingURL=listshop.2e3b4954.js.map
